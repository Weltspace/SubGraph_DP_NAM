import matplotlib.pyplot as plt
import numpy as np

# 示例数据
epsilon = np.array([0.1, 0.2, 0.4, 0.5, 0.6, 0.8, 1.0, 1.2, 1.4, 1.6, 1.8, 2.0]) # 横坐标 ε




y1 = [0.21140148452906496, 0.054941665079607495, 0.021077949349651782, 0.016134161260088552, 0.014819735276527208, 0.014275034452921468, 0.007775881840411571, 0.01016753092042421, 0.005169610276545745, 0.0044099184865913545, 0.004773206360142158, 0.004138654410498542]
y2 = [0.2620567644268626, 0.11752466057453252, 0.034388740357023766, 0.018347006636979, 0.018743559744860465, 0.01759900635623971, 0.013640988204561949, 0.009592213777006597, 0.005950189627406346, 0.00666860663551411, 0.0066147115312724545, 0.006449351826621102]
y3 = [0.457761656043931, 0.16432669018421225, 0.09295260574762824, 0.05238939247673795, 0.045624733605421686, 0.017854212155412556, 0.009891471381204216, 0.01033901332684511, 0.00772995443496728, 0.004742872780485636, 0.006829627475137804, 0.004951819653063784]
y4 = [2.4390782739610097, 0.4864136963779109, 0.16557573085213634, 0.13765612827678356, 0.11120764620089713, 0.06199832200242311, 0.049619655706374874, 0.048516362382659106, 0.041598176264635744, 0.03750987063012507, 0.03154789854773326, 0.032560578565403064]

# 创建子图
fig, axs = plt.subplots(1, 2, figsize=(12, 6))

# 图1：Facebook
axs[0].plot(epsilon, y1, 'r-', label=r'QuaTR($\epsilon_1=\epsilon$)')
axs[0].plot(epsilon, y2, 'g-', label=r'QuaTR($\epsilon_1=0.8\epsilon$)')
axs[0].plot(epsilon, y3, 'b-', label=r'QuaTR($\epsilon_0=0.1\epsilon$, $\epsilon_1=0.8\epsilon$)')
axs[0].plot(epsilon, y4, 'k-', label=r'QuaTR($\epsilon_0=0.1\epsilon$, $\epsilon_1=0.8\epsilon$, $\epsilon_2=0.1\epsilon$)')
axs[0].set_yscale('log')  # 设置纵坐标为对数刻度
axs[0].set_title('Facebook')
axs[0].set_xlabel('ε')
axs[0].set_ylabel('Relative Error')
axs[0].legend()
axs[0].grid(True, which='both', linestyle='--', linewidth=0.5)








z1 = [0.8870603837360695, 0.2267616956513692, 0.04911131209218775, 0.041570878412825474, 0.01980152297959751, 0.00908158953120776, 0.010538579522456073, 0.008015136088645096, 0.00857519861828422, 0.004566643560187914, 0.003744622013887845, 0.002446161098484683]
z2 = [1.4890224651814732, 0.4155563661652533, 0.0949496637285061, 0.05530500337808162, 0.035294640852794684, 0.022398523277463694, 0.012168203658515907, 0.01179295239577295, 0.0077186767205680885, 0.00790891099282948, 0.006263939138624932, 0.005400339852875349]
z3 = [1.499952167739457, 0.3520760153889495, 0.11684786816898167, 0.09279422701674714, 0.0609295072607019, 0.03600782620760586, 0.01795701294790702, 0.012407216788210062, 0.010864651423793502, 0.00872107902898665, 0.005249206800524046, 0.007892727925268113]
z4 = [24.79585292300053, 3.5440843126574197, 0.6705748327008019, 0.36453725642671925, 0.2602851459550015, 0.1671562667485582, 0.15466514114848726, 0.1214737905150961, 0.10985219035670818, 0.09137077180254857, 0.10464576519127798, 0.08811559996822126]



# 图2：ASTRO-PH
axs[1].plot(epsilon, z1, 'r-', label=r'QuaTR($\epsilon_1=\epsilon$)')
axs[1].plot(epsilon, z2, 'g-', label=r'QuaTR($\epsilon_1=0.8\epsilon$)')
axs[1].plot(epsilon, z3, 'b-', label=r'QuaTR($\epsilon_0=0.1\epsilon$, $\epsilon_1=0.8\epsilon$)')
axs[1].plot(epsilon, z4, 'k-', label=r'QuaTR($\epsilon_0=0.1\epsilon$, $\epsilon_1=0.8\epsilon$, $\epsilon_2=0.1\epsilon$)')
axs[1].set_yscale('log')  # 设置纵坐标为对数刻度
axs[1].set_title('ASTRO-PH')
axs[1].set_xlabel('ε')
axs[1].set_ylabel('Relative Error')
axs[1].legend()
axs[1].grid(True, which='both', linestyle='--', linewidth=0.5)








# 调整图表布局
plt.tight_layout()
plt.savefig('QuaTR analysis.png')
plt.show()




#axs[0].plot(epsilon, y1, 'r-', label=r'$\epsilon$')