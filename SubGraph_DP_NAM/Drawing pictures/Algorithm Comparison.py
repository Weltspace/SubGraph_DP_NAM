import matplotlib.pyplot as plt
import numpy as np

# 示例数据
epsilon = np.array([0.1, 0.2, 0.4, 0.5, 0.6, 0.8, 1.0, 1.2, 1.4, 1.6, 1.8, 2.0]) # 横坐标 ε




y1 = [41.02667468025495, 5.404432936491682, 0.8060625781167093, 0.4615343304540578, 0.18922323313470155, 0.11446419042718224, 0.03494935307154985, 0.021183006658959055, 0.021606281306185977, 0.011734804966020385, 0.0077979950657372545, 0.005070546345407457]
y2 = [39.27714297026486, 6.354366346390754, 0.6888519826404488, 0.4438113426019599, 0.3188945156323091, 0.14109625914632895, 0.042832688283385906, 0.02486943020165193, 0.02334777842134304, 0.011115922987319636, 0.007509613272318978, 0.006715592020278693]
y3 = [0.32592524202877426, 0.15941065853507147, 0.0474796581997031, 0.0353370776151531, 0.026754917271554667, 0.012981794795111619, 0.006413830630865036, 0.007605034046267275, 0.008629435361861755, 0.006457376109080803, 0.0034770729346006056, 0.0048719298958278985]
y4 = [14.280615792408136, 2.3574340927356574, 0.574033026400282, 0.34223118465387914, 0.41094490925817223, 0.19796690028139435, 0.11744939856056472, 0.10107847263114163, 0.10610843375407156, 0.10102822327445692, 0.09104835322732975, 0.06310273132999104]
y5 = [16.34537462875001, 2.2623239707164413, 0.3186301809413546, 0.1639417404900138, 0.10960451302027843, 0.04942411718100185, 0.030073881523760324, 0.014353656992799679, 0.011660822875063924, 0.010913225181757092, 0.007931051882959223, 0.007453778502188395]
y6 = [26.72837212618403, 6.470588346330759, 1.3515191070056836, 0.8743342083342086, 0.570408516262151, 0.3900034575689639, 0.2531561217107833, 0.26383381555589946, 0.17730628965824155, 0.22505951686942863, 0.2735298280222546, 0.26224933348854945]


# 创建子图
fig, axs = plt.subplots(1, 2, figsize=(12, 6))

# 图1：Facebook
axs[0].plot(epsilon, y1, 'r-', label='TriOR')
axs[0].plot(epsilon, y2, 'r--', label=r'$\text{RR}_{\bigtriangleup}$')
axs[0].plot(epsilon, y3, 'g-', label='TriTR')
axs[0].plot(epsilon, y4, 'g--', label=r'$\text{2R-Large}_{\bigtriangleup}$')
axs[0].plot(epsilon, y5, 'k-', label='TriMTR')
axs[0].plot(epsilon, y6, 'k--', label=r'$\text{Wshuffle}_{\bigtriangleup}$')
axs[0].set_yscale('log')  # 设置纵坐标为对数刻度
axs[0].set_title('Facebook')
axs[0].set_xlabel('ε')
axs[0].set_ylabel('Relative Error')
axs[0].legend()
axs[0].grid(True, which='both', linestyle='--', linewidth=0.5)








z1 = [461.44958210873034, 77.4119021767254, 9.497015578121959, 5.699433249129026, 2.1874136858127073, 0.8985992541714004, 0.39622173948471096, 0.22917823664117135, 0.20553591980615774, 0.0888082022522053, 0.06703504881812651, 0.04650755521497844]
z3 = [0.6632092809283566, 0.23825172069973422, 0.060657711847074025, 0.05151723713509078, 0.027505343301644062, 0.022024668195416406, 0.0205163564191041, 0.012112558312229765, 0.007834918683159298, 0.009277315058915863, 0.007188962741458789, 0.006439828241884731]
z4 = [38.92360503098617, 5.407315537358035, 1.043945952329461, 0.62037964064428, 0.6207889489765964, 0.3362712315814359, 0.24150376137040386, 0.1755045349611778, 0.1287119799426663, 0.1091677704575641, 0.10340588514145409, 0.10024668598593875]
z5 = [116.85352751735546, 11.32929274537777, 1.6504390510641047, 0.9957654902169959, 0.3954800205516201, 0.1714217647271006, 0.09261142020664341, 0.05966010046641545, 0.03204556890208547, 0.02833981838089447, 0.022605563418809933, 0.01704509656049306]
#回头大图跑完一换
z6 = [18.863958974152524, 1.522074985840388, 0.7988551538902685, 0.6832640771472575, 0.7219016288079243, 0.687086415644167, 0.8060985731028614, 0.7348985112866571, 0.7903708661184484, 0.7783241158866505, 0.7541132065271866, 0.6915925250183078]

# 图2：ASTRO-PH
axs[1].plot(epsilon, z1, 'r-', label='TriOR')
axs[1].plot(epsilon, z3, 'g-', label='TriTR')
axs[1].plot(epsilon, z4, 'g--', label=r'$\text{2R-Large}_{\bigtriangleup}$')
axs[1].plot(epsilon, z5, 'k-', label='TriMTR')
axs[1].plot(epsilon, z6, 'k--', label=r'$\text{Wshuffle}_{\bigtriangleup}$')
axs[1].set_yscale('log')  # 设置纵坐标为对数刻度
axs[1].set_title('ASTRO-PH')
axs[1].set_xlabel('ε')
axs[1].set_ylabel('Relative Error')
axs[1].legend()
axs[1].grid(True, which='both', linestyle='--', linewidth=0.5)








# 调整图表布局
plt.tight_layout()
plt.savefig('Algorithm Comparison.png')
plt.show()




#axs[0].plot(epsilon, y1, 'r-', label=r'$\epsilon$')